

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. 通过kolla 安装Ironic 安装 &mdash; Welcome to Fomalhaut&#39;s Blog 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="3. virtualbmc 使用" href="virtualbmc_install.html" />
    <link rel="prev" title="1. 通过packstack 安装Ironic 安装" href="ironic_install_with_packstack.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Welcome to Fomalhaut's Blog
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../cloudstack/index.html">cloudstack</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">openstack</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../deploy/index.html">1. 安装部署实践</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">2. Ironic</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ironic_install_with_packstack.html">1. 通过packstack 安装Ironic 安装</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">2. 通过kolla 安装Ironic 安装</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">2.1. 环境说明</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">2.2. 环境准备</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kolla">2.3. 安装kolla 环境</a></li>
<li class="toctree-l4"><a class="reference internal" href="#global-yml">2.4. 修改全局配置 <code class="docutils literal notranslate"><span class="pre">global.yml</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">2.5. 准备部署镜像和用户镜像</a></li>
<li class="toctree-l4"><a class="reference internal" href="#openstack">2.6. 安装openstack</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">2.7. 配置openstack</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">2.8. 问题总结</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="virtualbmc_install.html">3. virtualbmc 使用</a></li>
<li class="toctree-l3"><a class="reference internal" href="openstack-dib_make_ironic-agent.html">4. DIB制作ironic镜像</a></li>
<li class="toctree-l3"><a class="reference internal" href="make_ironic_window_image.html">5. openstack制作window镜像</a></li>
<li class="toctree-l3"><a class="reference internal" href="others.html">6. Ironic 相关概览及以及延伸知识</a></li>
<li class="toctree-l3"><a class="reference internal" href="temp.html">7. Ironic 临时笔记</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../neutron/index.html">1. Neutron</a></li>
<li class="toctree-l2"><a class="reference internal" href="../monasca/index.html">4. Monasca</a></li>
<li class="toctree-l2"><a class="reference internal" href="../develop/index.html">5. OpenStack 二次开发</a></li>
<li class="toctree-l2"><a class="reference internal" href="../source/index.html">6. OpenStack 源码解析</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/index.html">7. OpenStack 其他相关文档</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../redis/index.html">Redis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design-pattern/index.html">设计模式</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ceph/index.html">ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../others/index.html">杂七杂八</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../work/index.html">部门管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../linux/index.html">Linux</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Welcome to Fomalhaut's Blog</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">openstack</a> &raquo;</li>
        
          <li><a href="index.html">2. Ironic</a> &raquo;</li>
        
      <li>2. 通过kolla 安装Ironic 安装</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/openstack/ironic/ironic_install_with_kolla.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="kolla-ironic">
<span id="ironic-install-with-kolla"></span><h1><a class="toc-backref" href="#id16">2. 通过kolla 安装Ironic 安装</a><a class="headerlink" href="#kolla-ironic" title="Permalink to this headline">¶</a></h1>
<p>本文介绍通过kolla来安装Ironic环境</p>
<div class="contents topic" id="id1">
<p class="topic-title first">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#kolla-ironic" id="id16">通过kolla 安装Ironic 安装</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id17">环境说明</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id18">环境准备</a></p>
<ul>
<li><p><a class="reference internal" href="#id4" id="id19">关闭防火墙</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id20">设置主机名称</a></p></li>
<li><p><a class="reference internal" href="#selinx-etc-selinux-config" id="id21">关闭selinx <code class="docutils literal notranslate"><span class="pre">/etc/selinux/config</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#kolla" id="id22">安装kolla 环境</a></p></li>
<li><p><a class="reference internal" href="#global-yml" id="id23">修改全局配置 <code class="docutils literal notranslate"><span class="pre">global.yml</span></code></a></p></li>
<li><p><a class="reference internal" href="#id6" id="id24">准备部署镜像和用户镜像</a></p>
<ul>
<li><p><a class="reference internal" href="#deploy" id="id25">准备deploy镜像</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id26">准备用户镜像</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#openstack" id="id27">安装openstack</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id28">配置openstack</a></p>
<ul>
<li><p><a class="reference internal" href="#id9" id="id29">初始化环境变量</a></p></li>
<li><p><a class="reference internal" href="#ironic" id="id30">ironic网络配置</a></p></li>
<li><p><a class="reference internal" href="#id10" id="id31">配置鏡像</a></p></li>
<li><p><a class="reference internal" href="#id11" id="id32">生成密钥对</a></p></li>
<li><p><a class="reference internal" href="#id12" id="id33">配置容量</a></p></li>
<li><p><a class="reference internal" href="#flavor" id="id34">创建裸金属实例的 Flavor</a></p></li>
<li><p><a class="reference internal" href="#baremetal" id="id35">创建baremetal节点</a></p></li>
<li><p><a class="reference internal" href="#id13" id="id36">配置baremetal节点</a></p></li>
<li><p><a class="reference internal" href="#virtualbmcipmi" id="id37">通过virtualbmc生成虚拟ipmi设备</a></p></li>
<li><p><a class="reference internal" href="#id14" id="id38">创建baremetal实例</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id15" id="id39">问题总结</a></p>
<ul>
<li><p><a class="reference internal" href="#flat" id="id40">创建的flat网络不通</a></p></li>
<li><p><a class="reference internal" href="#dhcp" id="id41">2. dhcp不通排查</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id17">2.1. 环境说明</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>CentOS Linux release 7.6.1810 (Core)</p></li>
<li><p>openstack stein</p></li>
<li><p>双网卡 eth0 eth1: 网络配置如下：</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>注意这里的eth1 网卡必须是up状态，如果不是up状态，后续外部网络地址将无法与管理网络通信</p>
</div>
<p>eth0: 静态ip地址，作为管理地址</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@packstack</span> <span class="n">network</span><span class="o">-</span><span class="n">scripts</span><span class="p">]</span><span class="c1"># cat ifcfg-eth0</span>
<span class="n">TYPE</span><span class="o">=</span><span class="n">Ethernet</span>
<span class="n">PROXY_METHOD</span><span class="o">=</span><span class="n">none</span>
<span class="n">BROWSER_ONLY</span><span class="o">=</span><span class="n">no</span>
<span class="n">BOOTPROTO</span><span class="o">=</span><span class="n">static</span>
<span class="n">DEFROUTE</span><span class="o">=</span><span class="n">yes</span>
<span class="n">IPV4_FAILURE_FATAL</span><span class="o">=</span><span class="n">no</span>
<span class="n">IPV6INIT</span><span class="o">=</span><span class="n">yes</span>
<span class="n">IPV6_AUTOCONF</span><span class="o">=</span><span class="n">yes</span>
<span class="n">IPV6_DEFROUTE</span><span class="o">=</span><span class="n">yes</span>
<span class="n">IPV6_FAILURE_FATAL</span><span class="o">=</span><span class="n">no</span>
<span class="n">IPV6_ADDR_GEN_MODE</span><span class="o">=</span><span class="n">stable</span><span class="o">-</span><span class="n">privacy</span>
<span class="n">NAME</span><span class="o">=</span><span class="n">eth0</span>
<span class="n">UUID</span><span class="o">=</span><span class="mi">8</span><span class="n">d30e01b</span><span class="o">-</span><span class="mi">299</span><span class="n">c</span><span class="o">-</span><span class="mi">4</span><span class="n">db5</span><span class="o">-</span><span class="mi">96</span><span class="n">ef</span><span class="o">-</span><span class="mi">280</span><span class="n">dd53ac63a</span>
<span class="n">DEVICE</span><span class="o">=</span><span class="n">eth0</span>
<span class="n">ONBOOT</span><span class="o">=</span><span class="n">yes</span>
<span class="n">IPADDR</span><span class="o">=</span><span class="mf">10.199</span><span class="o">.</span><span class="mf">32.112</span>
<span class="n">NETMASK</span><span class="o">=</span><span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span>
<span class="n">GATEWAY</span><span class="o">=</span><span class="mf">10.199</span><span class="o">.</span><span class="mf">32.1</span>
<span class="n">DNS1</span><span class="o">=</span><span class="mf">114.114</span><span class="o">.</span><span class="mf">114.114</span>
</pre></div>
</div>
<p>eth1: 外部网络</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@packstack</span> <span class="n">network</span><span class="o">-</span><span class="n">scripts</span><span class="p">]</span><span class="c1"># cat ifcfg-eth1</span>
<span class="n">TYPE</span><span class="o">=</span><span class="n">Ethernet</span>
<span class="n">PROXY_METHOD</span><span class="o">=</span><span class="n">none</span>
<span class="n">BROWSER_ONLY</span><span class="o">=</span><span class="n">no</span>
<span class="n">BOOTPROTO</span><span class="o">=</span><span class="n">none</span>
<span class="n">DEFROUTE</span><span class="o">=</span><span class="n">yes</span>
<span class="n">IPV4_FAILURE_FATAL</span><span class="o">=</span><span class="n">no</span>
<span class="n">IPV6INIT</span><span class="o">=</span><span class="n">yes</span>
<span class="n">IPV6_AUTOCONF</span><span class="o">=</span><span class="n">yes</span>
<span class="n">IPV6_DEFROUTE</span><span class="o">=</span><span class="n">yes</span>
<span class="n">IPV6_FAILURE_FATAL</span><span class="o">=</span><span class="n">no</span>
<span class="n">IPV6_ADDR_GEN_MODE</span><span class="o">=</span><span class="n">stable</span><span class="o">-</span><span class="n">privacy</span>
<span class="n">NAME</span><span class="o">=</span><span class="n">eth1</span>
<span class="n">DEVICE</span><span class="o">=</span><span class="n">eth1</span>
<span class="n">ONBOOT</span><span class="o">=</span><span class="n">no</span>
</pre></div>
</div>
<p>网卡状态：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@packstack</span> <span class="n">network</span><span class="o">-</span><span class="n">scripts</span><span class="p">]</span><span class="c1"># ip a |grep state</span>
<span class="mi">1</span><span class="p">:</span> <span class="n">lo</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">LOOPBACK</span><span class="p">,</span><span class="n">UP</span><span class="p">,</span><span class="n">LOWER_UP</span><span class="o">&gt;</span> <span class="n">mtu</span> <span class="mi">65536</span> <span class="n">qdisc</span> <span class="n">noqueue</span> <span class="n">state</span> <span class="n">UNKNOWN</span> <span class="n">group</span> <span class="n">default</span> <span class="n">qlen</span> <span class="mi">1000</span>
<span class="mi">2</span><span class="p">:</span> <span class="n">eth0</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">BROADCAST</span><span class="p">,</span><span class="n">MULTICAST</span><span class="p">,</span><span class="n">UP</span><span class="p">,</span><span class="n">LOWER_UP</span><span class="o">&gt;</span> <span class="n">mtu</span> <span class="mi">1500</span> <span class="n">qdisc</span> <span class="n">pfifo_fast</span> <span class="n">state</span> <span class="n">UP</span> <span class="n">group</span> <span class="n">default</span> <span class="n">qlen</span> <span class="mi">1000</span>
<span class="mi">3</span><span class="p">:</span> <span class="n">eth1</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">BROADCAST</span><span class="p">,</span><span class="n">MULTICAST</span><span class="p">,</span><span class="n">UP</span><span class="p">,</span><span class="n">LOWER_UP</span><span class="o">&gt;</span> <span class="n">mtu</span> <span class="mi">1500</span> <span class="n">qdisc</span> <span class="n">pfifo_fast</span> <span class="n">master</span> <span class="n">ovs</span><span class="o">-</span><span class="n">system</span> <span class="n">state</span> <span class="n">UP</span> <span class="n">group</span> <span class="n">default</span> <span class="n">qlen</span> <span class="mi">1000</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id18">2.2. 环境准备</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id19">2.2.1. 关闭防火墙</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">systemctl</span> <span class="n">stop</span> <span class="n">firewalld</span>
<span class="n">systemctl</span> <span class="n">disable</span> <span class="n">firewalld</span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id20">2.2.2. 设置主机名称</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hostnamectl</span> <span class="nb">set</span><span class="o">-</span><span class="n">hostname</span> <span class="n">kolla</span><span class="o">-</span><span class="n">ironic</span>
</pre></div>
</div>
</div>
<div class="section" id="selinx-etc-selinux-config">
<h3><a class="toc-backref" href="#id21">2.2.3. 关闭selinx <code class="docutils literal notranslate"><span class="pre">/etc/selinux/config</span></code></a><a class="headerlink" href="#selinx-etc-selinux-config" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sed -i &quot;s/^SELINUX=.*/SELINUX=disabled/g&quot; /etc/selinux/config
setenforce 0

查看状态：

cat /etc/selinux/config

# This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#     enforcing - SELinux security policy is enforced.
#     permissive - SELinux prints warnings instead of enforcing.
#     disabled - No SELinux policy is loaded.
SELINUX=disabled  #设置为disable
# SELINUXTYPE= can take one of three values:
#     targeted - Targeted processes are protected,
#     minimum - Modification of targeted policy. Only selected processes are protected.
#     mls - Multi Level Security protection.
SELINUXTYPE=targeted
</pre></div>
</div>
<p>4. 关闭NetworkManager(参考网络环境)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">systemctl</span> <span class="n">disable</span> <span class="n">NetworkManager</span>
<span class="n">systemctl</span> <span class="n">stop</span> <span class="n">NetworkManager</span>
<span class="n">systemctl</span> <span class="n">enable</span> <span class="n">network</span>
<span class="n">systemctl</span> <span class="n">start</span> <span class="n">network</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="kolla">
<h2><a class="toc-backref" href="#id22">2.3. 安装kolla 环境</a><a class="headerlink" href="#kolla" title="Permalink to this headline">¶</a></h2>
<p>略。请参照  <a class="reference internal" href="../deploy/kolla_install.html#kolla-install"><span class="std std-ref">kolla 安装</span></a></p>
</div>
<div class="section" id="global-yml">
<h2><a class="toc-backref" href="#id23">2.4. 修改全局配置 <code class="docutils literal notranslate"><span class="pre">global.yml</span></code></a><a class="headerlink" href="#global-yml" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kolla_base_distro</span><span class="p">:</span> <span class="s2">&quot;centos&quot;</span>
<span class="n">kolla_install_type</span><span class="p">:</span> <span class="s2">&quot;source&quot;</span>
<span class="n">openstack_release</span><span class="p">:</span> <span class="s2">&quot;stein&quot;</span>
<span class="n">network_interface</span><span class="p">:</span> <span class="s2">&quot;eth0&quot;</span>
<span class="n">neutron_external_interface</span><span class="p">:</span> <span class="s2">&quot;eth1&quot;</span>
<span class="n">kolla_internal_vip_address</span><span class="p">:</span> <span class="s2">&quot;10.199.32.112&quot;</span>
<span class="n">enable_ironic</span><span class="p">:</span> <span class="s2">&quot;yes&quot;</span>
<span class="n">ironic_cleaning_network</span><span class="p">:</span> <span class="s2">&quot;public&quot;</span>
<span class="n">ironic_dnsmasq_dhcp_range</span><span class="p">:</span> <span class="s2">&quot;10.199.32.20,10.199.32.25&quot;</span>
<span class="n">openstack_logging_debug</span><span class="p">:</span> <span class="s2">&quot;True&quot;</span>
<span class="n">nova_compute_virt_type</span><span class="p">:</span> <span class="s2">&quot;qemu&quot;</span>
<span class="n">enable_haproxy</span><span class="p">:</span> <span class="s2">&quot;no&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h2><a class="toc-backref" href="#id24">2.5. 准备部署镜像和用户镜像</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ironic 整个部署流程中有两组映像，分别是 deploy 映像和 user 映像， 其中 deploy 映像用在 inspector 和 部署阶段， user 映像是用户需要安装的操作系统映像。
制作ironic deploy镜像其实就是在普通镜像中添加一个ipa服务，用来裸机和ironic通信。 官方推荐制作镜像的工具有两个，分别是CoreOS tools和disk-image-builder
具体链接如下: <a class="reference external" href="https://docs.openstack.org/project-install-guide/baremetal/ocata/deploy-ramdisk.html">https://docs.openstack.org/project-install-guide/baremetal/ocata/deploy-ramdisk.html</a>
我的环境中使用的是coreos的镜像。
下载地址如下：<a class="reference external" href="http://tarballs.openstack.org/ironic-python-agent/coreos/files/">http://tarballs.openstack.org/ironic-python-agent/coreos/files/</a></p>
</div>
<div class="section" id="deploy">
<h3><a class="toc-backref" href="#id25">2.5.1. 准备deploy镜像</a><a class="headerlink" href="#deploy" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">kolla</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">ironic</span><span class="o">/</span>
<span class="n">wget</span> <span class="o">-</span><span class="n">O</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">kolla</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">ironic</span><span class="o">/</span><span class="n">ironic</span><span class="o">-</span><span class="n">agent</span><span class="o">.</span><span class="n">kernel</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">tarballs</span><span class="o">.</span><span class="n">openstack</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">ironic</span><span class="o">-</span><span class="n">python</span><span class="o">-</span><span class="n">agent</span><span class="o">/</span><span class="n">coreos</span><span class="o">/</span><span class="n">files</span><span class="o">/</span><span class="n">coreos_production_pxe</span><span class="o">-</span><span class="n">stable</span><span class="o">-</span><span class="n">stein</span><span class="o">.</span><span class="n">vmlinuz</span>
<span class="n">wget</span> <span class="o">-</span><span class="n">O</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">kolla</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">ironic</span><span class="o">/</span><span class="n">ironic</span><span class="o">-</span><span class="n">agent</span><span class="o">.</span><span class="n">initramfs</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">tarballs</span><span class="o">.</span><span class="n">openstack</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">ironic</span><span class="o">-</span><span class="n">python</span><span class="o">-</span><span class="n">agent</span><span class="o">/</span><span class="n">coreos</span><span class="o">/</span><span class="n">files</span><span class="o">/</span><span class="n">coreos_production_pxe_image</span><span class="o">-</span><span class="n">oem</span><span class="o">-</span><span class="n">stable</span><span class="o">-</span><span class="n">stein</span><span class="o">.</span><span class="n">cpio</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h3><a class="toc-backref" href="#id26">2.5.2. 准备用户镜像</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>略。请参照  <span class="xref std std-ref">DIB 制作镜像</span></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">disk</span><span class="o">-</span><span class="n">image</span><span class="o">-</span><span class="n">create</span> <span class="n">centos7</span> <span class="n">baremetal</span> <span class="n">dhcp</span><span class="o">-</span><span class="nb">all</span><span class="o">-</span><span class="n">interfaces</span> <span class="o">-</span><span class="n">o</span> <span class="n">my</span><span class="o">-</span><span class="n">image</span>
<span class="n">mv</span> <span class="n">my</span><span class="o">-</span><span class="n">image</span><span class="o">.*</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="openstack">
<h2><a class="toc-backref" href="#id27">2.6. 安装openstack</a><a class="headerlink" href="#openstack" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#进入虚拟环境</span>
<span class="n">source</span> <span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">kolla</span><span class="o">-</span><span class="n">ansible_env</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>

<span class="n">cd</span> <span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">kolla</span><span class="o">-</span><span class="n">ansible</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span>
<span class="o">./</span><span class="n">kolla</span><span class="o">-</span><span class="n">ansible</span> <span class="n">bootstrap</span><span class="o">-</span><span class="n">servers</span>
<span class="o">./</span><span class="n">kolla</span><span class="o">-</span><span class="n">ansible</span> <span class="n">prechecks</span>
<span class="o">./</span><span class="n">kolla</span><span class="o">-</span><span class="n">ansible</span> <span class="o">-</span><span class="n">vvvv</span> <span class="n">deploy</span>
<span class="o">./</span><span class="n">kolla</span><span class="o">-</span><span class="n">ansible</span> <span class="o">-</span><span class="n">vvvv</span>  <span class="n">post</span><span class="o">-</span><span class="n">deploy</span>
</pre></div>
</div>
</div>
<div class="section" id="id8">
<h2><a class="toc-backref" href="#id28">2.7. 配置openstack</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id9">
<h3><a class="toc-backref" href="#id29">2.7.1. 初始化环境变量</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#初始化ironic节点ipmi信息(ip\端口\用户名\密码\pxe网卡mac地址也就是第一个网卡的mac地址)</span>
<span class="n">s1_ipmi_address</span><span class="o">=</span><span class="mf">10.199</span><span class="o">.</span><span class="mf">32.110</span>
<span class="n">s1_ipmi_port</span><span class="o">=</span><span class="mi">6230</span>
<span class="n">s1_ipmi_username</span><span class="o">=</span><span class="n">admin</span>
<span class="n">s1_ipmi_password</span><span class="o">=</span><span class="n">password</span>
<span class="n">s1_nic_mac_address</span><span class="o">=</span><span class="mi">00</span><span class="p">:</span><span class="mi">1</span><span class="n">e</span><span class="p">:</span><span class="mi">67</span><span class="p">:</span><span class="mi">63</span><span class="p">:</span><span class="mi">0</span><span class="n">b</span><span class="p">:</span><span class="mi">58</span>

<span class="c1">#初始化裸机节点的配置信息，注意一定要低于裸机节点的真实大小，我的裸机节点的真实大小为4C8G 20G硬盘</span>
<span class="n">RAM</span><span class="o">=</span><span class="mi">2048</span>
<span class="n">DISK</span><span class="o">=</span><span class="mi">18</span>
<span class="n">VCPUS</span><span class="o">=</span><span class="mi">2</span>
<span class="n">HOST_CPU_ARCH</span><span class="o">=</span><span class="n">x86_64</span>
<span class="n">export</span> <span class="n">IRONIC_API_VERSION</span><span class="o">=</span><span class="mf">1.20</span>

<span class="c1">#初始化neutron网络配置信息</span>
<span class="n">EXT_NET_CIDR</span><span class="o">=</span><span class="s1">&#39;10.199.32.0/24&#39;</span>
<span class="n">EXT_NET_RANGE</span><span class="o">=</span><span class="s1">&#39;start=10.199.32.60,end=10.199.32.70&#39;</span>
<span class="n">EXT_NET_GATEWAY</span><span class="o">=</span><span class="s1">&#39;10.199.32.59&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="ironic">
<h3><a class="toc-backref" href="#id30">2.7.2. ironic网络配置</a><a class="headerlink" href="#ironic" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#创建网络：
openstack network create --provider-physical-network physnet1 \
--provider-network-type flat --share public

#创建子网
openstack subnet create  \
--allocation-pool ${EXT_NET_RANGE} --network public \
--subnet-range ${EXT_NET_CIDR} --gateway ${EXT_NET_GATEWAY} --dhcp  -- public-subnet
</pre></div>
</div>
</div>
<div class="section" id="id10">
<h3><a class="toc-backref" href="#id31">2.7.3. 配置鏡像</a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#上传裸机部署镜像
openstack image create --disk-format aki --container-format aki --public \
--file /etc/kolla/config/ironic/ironic-agent.kernel deploy-vmlinuz
openstack image create --disk-format ari --container-format ari --public \
--file /etc/kolla/config/ironic/ironic-agent.initramfs deploy-initrd

#注册用户镜像
glance image-create --name my-kernel --visibility public \
--disk-format aki --container-format aki &lt; /opt/my-image.vmlinuz

glance image-create --name my-image.initrd --visibility public \
--disk-format ari --container-format ari &lt; /opt/my-image.initrd

MY_VMLINUZ_UUID=$(glance image-list|grep my-kernel|awk -F &quot;| &quot; &#39;{print $2}&#39;)
MY_INITRD_UUID=$(glance image-list|grep my-image.initrd|awk -F &quot;| &quot; &#39;{print $2}&#39;)

glance image-create --name my-image --visibility public \
--disk-format qcow2 --container-format bare --property \
kernel_id=$MY_VMLINUZ_UUID --property \
ramdisk_id=$MY_INITRD_UUID &lt; /opt/my-image.qcow2
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h3><a class="toc-backref" href="#id32">2.7.4. 生成密钥对</a><a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 生成密钥对
if [ ! -f ~/.ssh/id_rsa.pub ]; then
   echo Generating ssh key.
   ssh-keygen -t rsa -f ~/.ssh/id_rsa
fi

if [ -r ~/.ssh/id_rsa.pub ]; then
   echo Configuring nova public key and quotas.
   openstack keypair create --public-key ~/.ssh/id_rsa.pub mykey
fi
</pre></div>
</div>
</div>
<div class="section" id="id12">
<h3><a class="toc-backref" href="#id33">2.7.5. 配置容量</a><a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nova</span> <span class="n">quota</span><span class="o">-</span><span class="n">class</span><span class="o">-</span><span class="n">update</span> <span class="o">--</span><span class="n">instances</span> <span class="mi">50</span> <span class="n">default</span>
<span class="n">nova</span> <span class="n">quota</span><span class="o">-</span><span class="n">class</span><span class="o">-</span><span class="n">update</span> <span class="o">--</span><span class="n">ram</span> <span class="mi">5120000</span> <span class="n">default</span>
<span class="n">nova</span> <span class="n">quota</span><span class="o">-</span><span class="n">class</span><span class="o">-</span><span class="n">update</span> <span class="o">--</span><span class="n">cores</span> <span class="mi">2000</span> <span class="n">default</span>
</pre></div>
</div>
</div>
<div class="section" id="flavor">
<h3><a class="toc-backref" href="#id34">2.7.6. 创建裸金属实例的 Flavor</a><a class="headerlink" href="#flavor" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>在 Queen 版本中，Ironic 项目新增 Trait API，节点的 traits 信息可以注册到计算服务的 Placement API 中，用于创建虚拟机时的调度。添加 Trait API 后，注册到 Ironic 的裸机也可以通过 Trait API 注册到 Placement 资源清单中，最终支持裸机的部署调度。
本文我们实践通过 Placement 来完成裸机的调度，通过 Resource Class 来标识 ironic node 的资源类型，通过 Resource Traits 来标识 ironic node 的特征，还可以通过 resources:VCPU=0、resources:MEMORY_MB=0、resources:DISK_GB=0 来 disable scheduling。
————————————————
版权声明：本文为CSDN博主「范桂飓」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/Jmilk/article/details/90107741</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>nova flavor-create ai-bm-node1 1 ${RAM} ${DISK} ${VCPUS}
nova flavor-key ai-bm-node1 set cpu_arch=x86_64
nova flavor-key ai-bm-node1 set resources:CUSTOM_BAREMETAL_TEST=1
nova flavor-key ai-bm-node1 set resources:VCPU=0
nova flavor-key ai-bm-node1 set resources:MEMORY_MB=0
nova flavor-key ai-bm-node1 set resources:DISK_GB=0
</pre></div>
</div>
</div>
<div class="section" id="baremetal">
<h3><a class="toc-backref" href="#id35">2.7.7. 创建baremetal节点</a><a class="headerlink" href="#baremetal" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">openstack</span> <span class="n">baremetal</span> <span class="n">node</span> <span class="n">create</span> <span class="o">--</span><span class="n">driver</span> <span class="n">ipmi</span> <span class="o">--</span><span class="n">name</span> <span class="n">node1</span>
</pre></div>
</div>
</div>
<div class="section" id="id13">
<h3><a class="toc-backref" href="#id36">2.7.8. 配置baremetal节点</a><a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>NODE1_UUID=$(openstack baremetal node list|grep node1 |awk -F &quot;| &quot; &#39;{print $2}&#39;)

#设置ipmi
openstack baremetal node set $NODE1_UUID \
--driver-info ipmi_username=$s1_ipmi_username \
--driver-info ipmi_password=$s1_ipmi_password \
--driver-info ipmi_address=$s1_ipmi_address \
--driver-info ipmi_port=$s1_ipmi_port

#设置镜像
DEPLOY_VMLINUZ_UUID=$(glance image-list|grep deploy-vmlinuz|awk -F &quot;| &quot; &#39;{print $2}&#39;)
DEPLOY_INITRD_UUID=$(glance image-list|grep deploy-initrd|awk -F &quot;| &quot; &#39;{print $2}&#39;)

openstack baremetal node set $NODE1_UUID \
--driver-info deploy_kernel=$DEPLOY_VMLINUZ_UUID \
--driver-info deploy_ramdisk=$DEPLOY_INITRD_UUID

#设置规格
openstack baremetal node set $NODE1_UUID \
--property cpus=${VCPUS} \
--property memory_mb=${RAM} \
--property local_gb=${DISK} \
--property cpu_arch=${HOST_CPU_ARCH}

#设置资源标签(注意此处前面定义flavor的标签为：CUSTOM_BAREMETAL_TEST=1,这里要吧CUSTOM_前缀去掉)
openstack --os-baremetal-api-version 1.21 baremetal node set $NODE1_UUID \
--resource-class  BAREMETAL_TEST

#设置端口信息
openstack baremetal port create $s1_nic_mac_address --node $NODE1_UUID

#配置状态
1.将node状态转变为mangleable状态
openstack baremetal node manage $NODE1_UUID
2.将node节点转换成avaliable状态
openstack baremetal node provide $NODE1_UUID

openstack baremetal node list
</pre></div>
</div>
</div>
<div class="section" id="virtualbmcipmi">
<h3><a class="toc-backref" href="#id37">2.7.9. 通过virtualbmc生成虚拟ipmi设备</a><a class="headerlink" href="#virtualbmcipmi" title="Permalink to this headline">¶</a></h3>
<p>略。请参照  <a class="reference internal" href="virtualbmc_install.html#virtualbmc-install"><span class="std std-ref">通过virtualbmc虚拟ipmi</span></a></p>
</div>
<div class="section" id="id14">
<h3><a class="toc-backref" href="#id38">2.7.10. 创建baremetal实例</a><a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">openstack</span> <span class="n">server</span> <span class="n">create</span> <span class="o">--</span><span class="n">image</span> <span class="n">my</span><span class="o">-</span><span class="n">image</span> <span class="o">--</span><span class="n">flavor</span> <span class="n">ai</span><span class="o">-</span><span class="n">bm</span><span class="o">-</span><span class="n">node1</span>  <span class="o">--</span><span class="n">key</span><span class="o">-</span><span class="n">name</span> <span class="n">mykey</span> <span class="o">--</span><span class="n">network</span> <span class="n">public</span>  <span class="n">node1</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id15">
<h2><a class="toc-backref" href="#id39">2.8. 问题总结</a><a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<div class="section" id="flat">
<h3><a class="toc-backref" href="#id40">2.8.1. 创建的flat网络不通</a><a class="headerlink" href="#flat" title="Permalink to this headline">¶</a></h3>
<p>由于之前我们在配置物理环境中。eth1网卡并没有启动。y因此创建出来的flat 外部网络无法与物理网络通信，
因此只要启动eth1网卡即可</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ifup</span> <span class="n">eth1</span>
<span class="c1">#验证</span>
<span class="p">[</span><span class="n">root</span><span class="nd">@packstack</span> <span class="n">network</span><span class="o">-</span><span class="n">scripts</span><span class="p">]</span><span class="c1"># ip netns exec qdhcp-c4e53fb0-d69c-4169-84e7-1e35187730c7 ping 10.199.32.1</span>
<span class="n">PING</span> <span class="mf">10.199</span><span class="o">.</span><span class="mf">32.1</span> <span class="p">(</span><span class="mf">10.199</span><span class="o">.</span><span class="mf">32.1</span><span class="p">)</span> <span class="mi">56</span><span class="p">(</span><span class="mi">84</span><span class="p">)</span> <span class="nb">bytes</span> <span class="n">of</span> <span class="n">data</span><span class="o">.</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.199</span><span class="o">.</span><span class="mf">32.1</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">1</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">255</span> <span class="n">time</span><span class="o">=</span><span class="mf">1.46</span> <span class="n">ms</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.199</span><span class="o">.</span><span class="mf">32.1</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">2</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">255</span> <span class="n">time</span><span class="o">=</span><span class="mf">0.945</span> <span class="n">ms</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.199</span><span class="o">.</span><span class="mf">32.1</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">3</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">255</span> <span class="n">time</span><span class="o">=</span><span class="mf">3.12</span> <span class="n">ms</span>
</pre></div>
</div>
</div>
<div class="section" id="dhcp">
<h3><a class="toc-backref" href="#id41">2.8.2. 2. dhcp不通排查</a><a class="headerlink" href="#dhcp" title="Permalink to this headline">¶</a></h3>
<p>查看日志：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>tail -f /var/log/kolla/neutron/dnsmasq.log
正常应该为：一次dhcp应该包含以下4个过程
Oct 14 23:54:08 dnsmasq-dhcp[126]: DHCPDISCOVER(tapf2ec7ee0-ec) fa:16:3e:e4:36:20
Oct 14 23:54:08 dnsmasq-dhcp[126]: DHCPOFFER(tapf2ec7ee0-ec) 10.199.32.28 fa:16:3e:e4:36:20
Oct 14 23:54:08 dnsmasq-dhcp[126]: DHCPREQUEST(tapf2ec7ee0-ec) 10.199.32.28 fa:16:3e:e4:36:20
Oct 14 23:54:08 dnsmasq-dhcp[126]: DHCPACK(tapf2ec7ee0-ec) 10.199.32.28 fa:16:3e:e4:36:20 host-10-199-32-28
</pre></div>
</div>
<p>抓包分析：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">在ironic节点抓取dhcp包</span>
<span class="n">tcpdump</span> <span class="o">-</span><span class="n">i</span> <span class="n">br1</span> <span class="o">-</span><span class="n">vv</span> <span class="s1">&#39;udp and port 67 and port 68&#39;</span>

<span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="o">.</span><span class="n">bootpc</span> <span class="o">&gt;</span> <span class="mf">255.255</span><span class="o">.</span><span class="mf">255.255</span><span class="o">.</span><span class="n">bootps</span><span class="p">:</span> <span class="p">[</span><span class="n">udp</span> <span class="nb">sum</span> <span class="n">ok</span><span class="p">]</span> <span class="n">BOOTP</span><span class="o">/</span><span class="n">DHCP</span><span class="p">,</span> <span class="n">Request</span> <span class="kn">from</span> <span class="mi">52</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="n">af</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">5</span><span class="n">d</span>
<span class="mf">10.199</span><span class="o">.</span><span class="mf">32.26</span><span class="o">.</span><span class="n">bootps</span> <span class="o">&gt;</span> <span class="mf">10.199</span><span class="o">.</span><span class="mf">32.36</span><span class="o">.</span><span class="n">bootpc</span><span class="p">:</span> <span class="p">[</span><span class="n">udp</span> <span class="nb">sum</span> <span class="n">ok</span><span class="p">]</span> <span class="n">BOOTP</span><span class="o">/</span><span class="n">DHCP</span><span class="p">,</span> <span class="n">Reply</span><span class="p">,</span> <span class="n">length</span> <span class="mi">360</span><span class="p">,</span> <span class="n">xid</span> <span class="mh">0x55915542</span><span class="p">,</span> <span class="n">secs</span> <span class="mi">4</span><span class="p">,</span> <span class="n">Flags</span> <span class="p">[</span><span class="n">no</span>
<span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="o">.</span><span class="n">bootpc</span> <span class="o">&gt;</span> <span class="mf">255.255</span><span class="o">.</span><span class="mf">255.255</span><span class="o">.</span><span class="n">bootps</span><span class="p">:</span> <span class="p">[</span><span class="n">udp</span> <span class="nb">sum</span> <span class="n">ok</span><span class="p">]</span> <span class="n">BOOTP</span><span class="o">/</span><span class="n">DHCP</span><span class="p">,</span> <span class="n">Request</span> <span class="kn">from</span> <span class="mi">52</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="n">af</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">5</span><span class="n">d</span>
<span class="mf">10.199</span><span class="o">.</span><span class="mf">32.26</span><span class="o">.</span><span class="n">bootps</span> <span class="o">&gt;</span> <span class="mf">10.199</span><span class="o">.</span><span class="mf">32.36</span><span class="o">.</span><span class="n">bootpc</span><span class="p">:</span> <span class="p">[</span><span class="n">udp</span> <span class="nb">sum</span> <span class="n">ok</span><span class="p">]</span> <span class="n">BOOTP</span><span class="o">/</span><span class="n">DHCP</span><span class="p">,</span> <span class="n">Reply</span><span class="p">,</span> <span class="n">length</span> <span class="mi">360</span><span class="p">,</span> <span class="n">xid</span> <span class="mh">0x55915542</span><span class="p">,</span> <span class="n">secs</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Flag</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="virtualbmc_install.html" class="btn btn-neutral float-right" title="3. virtualbmc 使用" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ironic_install_with_packstack.html" class="btn btn-neutral float-left" title="1. 通过packstack 安装Ironic 安装" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, fomalhaut

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>